# Project Wildcard: Data Asset Factory

Project Wildcard - это продвинутый **Editor Utility Widget** для Unreal Engine, предназначенный для создания и синхронизации Data Asset из **неограниченного количества** Data Tables. Инструмент реализует централизованное управление через "мастер-таблицу", что позволяет кардинально ускорить и обезопасить процесс работы с игровыми данными в проектах любого масштаба.

![ProjectWildcardMain-2](https://github.com/user-attachments/assets/79780a49-fd15-4428-8781-b40977b5d5af)


## 1. Проблема: Data Table vs. Data Asset

При создании системы с большим количеством однотипных сущностей (разные типы предметов, перки) в Unreal Engine Я столкнулся с дилеммой выбора между Data Table и Data Asset. У каждого подхода есть критические недостатки.

|                                   |                                                                |                                                                      |
| --------------------------------- | -------------------------------------------------------------- | -------------------------------------------------------------------- |
| Критерий                          | Data Table                                                     | Data Asset                                                           |
| **Удобство для геймдизайнера**    | ✅ **Высокое** (Все данные в одной таблице)                     | ❌ **Низкое** (Нужно открывать сотни ассетов)                         |
| **Удобство для программиста**     | ❌ **Низкое** (Нужен поиск по RowName, нет строгой типизации)   | ✅ **Высокое** (Прямые ссылки на ассет, строгая типизация)            |
| **Надёжность и защита от ошибок** | ❌ **Низкая** ("Магические строки", легко ошибиться в ID)       | ✅ **Высокая** (Движок не позволит сослаться на несуществующий ассет) |
| **Производительность**            | ❌ **Низкая** (Вся таблица всегда загружается в память целиком) | ✅ **Высокая** (Ассеты загружаются по требованию через Asset Manager) |

Итог, **Data Table** удобны для редактирования, но плохи для использования в коде и неоптимальны. **Data Asset** идеальны для кода и производительности, но превращают редактирование данных в кошмар при большом их количестве.


## 2. Решение: Лучшее из двух миров

Инстурмент решает описанную дилемму, создавая **конвейер по обработке данных (Data Pipeline)** 

* Геймдизайнер работает с удобной таблицей ; 
* Программист получает производительные и надёжные Data Asset, при этом их синхронизация происходит автоматически по нажатию одной кнопки.

Инструмент сканирует все строки главной Data Table, которая содержит структуру:  {ссылка на DataTable, ссылка на класс Primary Data Asset},  на основе этих таблиц создает и обновляет соответствующие Data Asset.

### 2.1 Ключевые особенности

- **Автоматическое создание и обновление**: достаточно добавить новую строку в таблицу и нажать кнопку - инструмент сам создаст и заполнит новый дата ассет. Изменили значение в таблице и нажали кнопку - инструмент обновит существующий дата ассет;
- **Безопасность и надёжность**: устраняет проблему "магических строк". Вся игровая логика работает с надёжными Data Assets. Обновление существующих Data Asset не ломает ссылки в блюпринтах;
- **Оптимизация для больших проектов**: сочетает удобство редактирования сотен сущностей с высокой производительностью Primary Data Asset;
- **Удобный рабочий процесс**: позволяет всем участникам команды работать с данными в удобном табличном формате, не "копаясь" в самих Data Asset.

### 2.2 Инструкция

1. Для работы системы вам потребуется 3 объекта: структура (Structure), созданная на основе этой структуры таблица данных (Data Table), и Primary Data Asset.
   
2.  ❗ **САМЫЙ ВАЖНЫЙ МОМЕНТ** ❗ Типы переменных и их имена в Primary Data Asset **должны быть идентичны** со структурой которую вы будете использовать для образования таблицы Data Table , иначе система работать не будет а в логе вы увидите ошибку в логе "ОШИБКА ТИПА для свойства 'ваше свойство(переменная)'! Копирование отменено . . ." 

	<img width="865" height="457" alt="Pasted image 20250907012135" src="https://github.com/user-attachments/assets/115cb1a9-2da3-42b3-b75e-31ba53781ff2" />

	 на примере видно BaseItemInfo и BaseMeleeWeaponInfo идеально совпадают. Регистр и пробелы - **УЧИТЫВАЮТСЯ**. 

3. Зарегистрируйте вашу новую Data Table в DT_MasteryTable, которая идёт с плагином в комплекте: создайте новую строку, дайте строке любое название, выберите таблицу данных и ассоциируемый с ней класс Primary Data Asset.

	<img width="1129" height="429" alt="Pasted image 20250907013039" src="https://github.com/user-attachments/assets/0f737218-c103-45ab-a75c-a1f81c07d755" />


4. Откройте **EUW_DataAssetFactory**, настройте три параметра:
	* SearchFolderPath - это самая главная папка где можно искать дата ассеты(например, у вас есть Content/Items/Weapons/MeleeWeapons/Katana/DA_Item_Katana и Content/Items/Consumables/Food/Pie/DA_Item_Pie, вы указываете именно /Game/Items)
	* WhereToSaveNewAssets - куда сохранять сгенерированные ассеты. Вы можете самостоятельно дописать логику раскидывания по папкам в зависимости от нужд вашего проекта, но я рекомендую создать общую папку Generated
	* MasterDataTable - на всякий случай убедитесь в том, что там установлена именно DT_MasteryTable
  
5. Запустите виджет **EUW_DataAssetFactory** и нажмите единственную кнопку "Синхронизовать и сгенерировать все Data Asset"

	<img width="680" height="250" alt="Pasted image 20250907013902" src="https://github.com/user-attachments/assets/7ccc4918-d916-495f-bef5-7411e0910147" />

## ❗❗❗ 3. Лицензия и Использование

Весь код в данном репозитории распространяется под **лицензией MIT**.

Это означает, что вы можете свободно использовать, копировать, изменять и распространять код для любых целей, включая коммерческие, при условии сохранения оригинального уведомления об авторских правах и текста лицензии в ваших копиях или существенных частях проекта.

Полный и официальный текст лицензии находится в файле [LICENSE](https://github.com/Erdeni23/Project-Wildcard-UE-5.6-Tool/blob/main/LICENSE)
